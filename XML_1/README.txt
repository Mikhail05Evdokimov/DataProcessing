ХМЛ парсится, но ещё раз надо посмотреть, проверить все ли данные обрабатываются.

Дальше нужно результат провалидировать: нельзя быть отцом самому себе, иметь гендер Вася и тд.
Чем больше отвалидируется, тем лучше. 

После этого уже составляем полную картину отношений.